dependencies:
    pre:
        # Install a few packages which will be needed for building the cross compiler.
        - sudo apt-get update
        - sudo apt-get install build-essential
        - sudo apt-get install cmake

compile:
    override:
        # Place here whatever commands are necessary to build your project.
        - ls
        - mkdir build
        # Every command is run in a separate subshell so commands like 'cd' must be chained
        - cd build & cmake DCMAKE_BUILD_TYPE=Release ..
        - cd build & make
        # Copy any files you want to keep to the folder $CIRCLE_ARTIFACTS.
        # - cp my_kernel my_image.iso $CIRCLE_ARTIFACTS/

test:
    override:
        # Place here any automated test you would like to run after the build (unit tests, boot up a VM and collect output...)
        - ls
        - cd build & ls
        - cd build & make test
        # You must place something here, even it it's just testing whether the output exists.
        # - test -f $CIRCLE_ARTIFACTS/my_kernel
        # - test -f $CIRCLE_ARTIFACTS/my_image.iso